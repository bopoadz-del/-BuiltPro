# ============================================================================
# CEREBRUM PLATFORM - COMPREHENSIVE ENVIRONMENT CONFIGURATION
# 420-Item Specification Implementation
# ============================================================================

# ----------------------------------------------------------------------------
# DATABASE CONFIGURATION (Items 1-2)
# ----------------------------------------------------------------------------
DATABASE_URL=postgresql://cerebrum_user:changeme_secure_password@localhost:5432/cerebrum
DB_USER=cerebrum_user
DB_PASSWORD=changeme_secure_password
DB_NAME=cerebrum
DB_HOST=localhost
DB_PORT=5432

# Connection Pooling (Item 1)
POOL_SIZE=20
MAX_OVERFLOW=0
POOL_RECYCLE=3600
POOL_TIMEOUT=30
SQL_ECHO=false

# PgBouncer (Item 2) - Use when PgBouncer is in front of PostgreSQL
PGBOUNCER_URL=postgresql://cerebrum_user:changeme@localhost:6432/cerebrum

# ----------------------------------------------------------------------------
# REDIS CONFIGURATION (Item 3 - Separate instances per workload)
# ----------------------------------------------------------------------------
REDIS_CACHE_URL=redis://localhost:6379/0
REDIS_QUEUE_URL=redis://localhost:6379/1
REDIS_SESSION_URL=redis://localhost:6379/2
REDIS_RATELIMIT_URL=redis://localhost:6379/3

# Legacy (keep for backward compatibility)
REDIS_URL=redis://localhost:6379/0

# ----------------------------------------------------------------------------
# SECURITY & AUTHENTICATION (Items 16-30)
# ----------------------------------------------------------------------------
# JWT Configuration (Item 16)
SECRET_KEY=your-super-secret-key-change-this-in-production-min-32-chars
JWT_SECRET_KEY=your-jwt-secret-key-different-from-secret-key-min-32-chars
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7

# Password Security (Item 17)
BCRYPT_SALT_ROUNDS=12
PASSWORD_PEPPER=your-additional-hmac-secret-for-password-hashing

# Session Management (Item 25)
SESSION_EXPIRE_HOURS=24
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=strict

# Multi-Factor Authentication (Item 24)
MFA_ISSUER_NAME=Cerebrum
MFA_BACKUP_CODES_COUNT=10

# OAuth2 (Item 26)
GOOGLE_CLIENT_ID=your-google-oauth-client-id
GOOGLE_CLIENT_SECRET=your-google-oauth-client-secret
MICROSOFT_CLIENT_ID=your-microsoft-oauth-client-id
MICROSOFT_CLIENT_SECRET=your-microsoft-oauth-client-secret

# ----------------------------------------------------------------------------
# BACKUP & RECOVERY (Items 13-14)
# ----------------------------------------------------------------------------
S3_BACKUP_BUCKET=cerebrum-backups
S3_BACKUP_PREFIX=daily/
BACKUP_RETENTION_DAYS=30
GPG_PASSPHRASE=your-gpg-encryption-passphrase-for-backups

# Point-in-Time Recovery (Item 14)
WAL_ARCHIVE_ENABLED=true
WAL_ARCHIVE_BUCKET=cerebrum-wal-archive
RPO_MINUTES=5
RTO_HOURS=1

# ----------------------------------------------------------------------------
# SECRETS MANAGEMENT (Item 10)
# ----------------------------------------------------------------------------
VAULT_ADDR=https://vault.yourdomain.com:8200
VAULT_TOKEN=your-vault-token
VAULT_DB_MOUNT=database
VAULT_DB_ROLE=cerebrum-app

# ----------------------------------------------------------------------------
# AWS / CLOUD SERVICES
# ----------------------------------------------------------------------------
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
S3_BUCKET=cerebrum-uploads
S3_REGION=us-east-1

# ----------------------------------------------------------------------------
# EXTERNAL AI SERVICES
# ----------------------------------------------------------------------------
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_MAX_TOKENS=4096
OPENAI_TEMPERATURE=0.1

# Anthropic Claude (alternative)
ANTHROPIC_API_KEY=your-anthropic-api-key

# Kimi / Moonshot AI (vision, code generation, document analysis)
# Available models: kimi-k2.5, moonshot-v1-8k, moonshot-v1-32k, moonshot-v1-128k
# Use moonshot-v1-128k for long document analysis (contracts, specifications)
MOONSHOT_API_KEY=your-moonshot-api-key
KIMI_MODEL=kimi-k2.5
KIMI_MAX_TOKENS=4096
KIMI_TEMPERATURE=0.7
KIMI_BASE_URL=https://api.moonshot.ai/v1

# OpenAI Whisper (Item 135)
WHISPER_MODEL=whisper-1
WHISPER_LANGUAGE=en

# ----------------------------------------------------------------------------
# GOOGLE SERVICES (Items 101-110)
# ----------------------------------------------------------------------------
GOOGLE_DRIVE_CLIENT_ID=your-google-drive-oauth-client-id
GOOGLE_DRIVE_CLIENT_SECRET=your-google-drive-oauth-secret
GOOGLE_DRIVE_REDIRECT_URI=http://localhost:8000/api/v1/drive/callback
GOOGLE_DRIVE_SCOPES=https://www.googleapis.com/auth/drive.readonly,https://www.googleapis.com/auth/drive.file

# ----------------------------------------------------------------------------
# ML & MLOPS (Items 166-185)
# ----------------------------------------------------------------------------
MLFLOW_TRACKING_URI=http://localhost:5000
MLFLOW_S3_ENDPOINT_URL=https://s3.amazonaws.com
MLFLOW_ARTIFACT_ROOT=s3://cerebrum-mlflow-artifacts

# Feature Store (Item 169)
FEAST_REPO_PATH=/app/feature_repo
FEAST_ONLINE_STORE=redis
FEAST_OFFLINE_STORE=s3

# Model Registry (Item 167)
MODEL_REGISTRY_BUCKET=cerebrum-models
MODEL_SIGNING_KEY=your-model-signing-secret-key

# GPU Cloud (Item 180)
MODAL_TOKEN=your-modal-api-token
RUNPOD_API_KEY=your-runpod-api-key

# ----------------------------------------------------------------------------
# VECTOR DATABASES & EMBEDDINGS
# ----------------------------------------------------------------------------
CHROMA_HOST=localhost
CHROMA_PORT=8000
CHROMA_COLLECTION=cerebrum_docs

# FAISS Configuration
FAISS_INDEX_PATH=/app/data/faiss_indexes

# Embeddings Model
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
EMBEDDING_DIMENSION=384

# ----------------------------------------------------------------------------
# EDGE COMPUTING (Items 186-200)
# ----------------------------------------------------------------------------
EDGE_DEVICE_REGISTRY=cerebrum-edge-devices
JETSON_HEARTBEAT_INTERVAL=30
EDGE_MODEL_CACHE_SIZE=5
EDGE_LOG_ENDPOINT=http://api.cerebrum.ai/api/v1/edge/logs

# WireGuard VPN (Item 190)
WIREGUARD_PRIVATE_KEY=your-wireguard-private-key
WIREGUARD_PUBLIC_KEY=your-wireguard-public-key
WIREGUARD_ENDPOINT=vpn.cerebrum.ai:51820

# ----------------------------------------------------------------------------
# MULTI-TENANCY (Items 281-300)
# ----------------------------------------------------------------------------
TENANT_ISOLATION_MODE=schema
DEFAULT_TENANT_ID=default
SUBDOMAIN_ENABLED=true
BASE_DOMAIN=cerebrum.ai

# ----------------------------------------------------------------------------
# INTEGRATIONS (Items 301-320)
# ----------------------------------------------------------------------------
# Procore (Item 301)
PROCORE_CLIENT_ID=your-procore-client-id
PROCORE_CLIENT_SECRET=your-procore-client-secret

# Autodesk (Item 302)
AUTODESK_CLIENT_ID=your-autodesk-client-id
AUTODESK_CLIENT_SECRET=your-autodesk-client-secret

# Microsoft Teams (Item 306)
TEAMS_WEBHOOK_URL=https://outlook.office.com/webhook/your-webhook-url

# Slack (Item 307)
SLACK_BOT_TOKEN=xoxb-your-slack-bot-token
SLACK_SIGNING_SECRET=your-slack-signing-secret

# Twilio (Item 314)
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# SendGrid (Item 314)
SENDGRID_API_KEY=your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@cerebrum.ai

# ----------------------------------------------------------------------------
# MONITORING & OBSERVABILITY (Items 341-365)
# ----------------------------------------------------------------------------
# Sentry (Item 35)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Datadog (Item 341)
DATADOG_API_KEY=your-datadog-api-key
DATADOG_APP_KEY=your-datadog-app-key
DATADOG_SITE=datadoghq.com

# PagerDuty (Item 348)
PAGERDUTY_INTEGRATION_KEY=your-pagerduty-integration-key

# ----------------------------------------------------------------------------
# RATE LIMITING (Item 43)
# ----------------------------------------------------------------------------
RATE_LIMIT_GLOBAL=100
RATE_LIMIT_AUTH=5
RATE_LIMIT_IFC_PROCESSING=10
RATE_LIMIT_ADMIN=50

# ----------------------------------------------------------------------------
# SECURITY HEADERS & POLICIES (Items 41-42)
# ----------------------------------------------------------------------------
HSTS_MAX_AGE=31536000
CSP_POLICY=default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'
CORS_ALLOW_ORIGINS=http://localhost:3000,https://app.cerebrum.ai
CORS_ALLOW_CREDENTIALS=true

# ----------------------------------------------------------------------------
# COMPLIANCE (Item 50)
# ----------------------------------------------------------------------------
SOC2_ENABLED=true
GDPR_ENABLED=true
DATA_RETENTION_AUDIT_YEARS=7
DATA_RETENTION_TEMP_YEARS=1
COMPLIANCE_REGION=EU

# ----------------------------------------------------------------------------
# CELERY CONFIGURATION (Items 241-242)
# ----------------------------------------------------------------------------
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/1
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=true

# Celery Queues (Item 241)
CELERY_QUEUE_FAST=celery_fast
CELERY_QUEUE_SLOW=celery_slow
CELERY_QUEUE_BEATS=celery_beats

# ----------------------------------------------------------------------------
# APPLICATION SETTINGS
# ----------------------------------------------------------------------------
ENVIRONMENT=development
DEBUG=false
LOG_LEVEL=INFO
APP_NAME=Cerebrum
APP_VERSION=1.0.0
API_V1_PREFIX=/api/v1

# Frontend URL
FRONTEND_URL=http://localhost:3000

# File Upload
MAX_UPLOAD_SIZE_MB=100
ALLOWED_EXTENSIONS=pdf,dwg,ifc,rvt,docx,xlsx,png,jpg

# IFC Processing (Items 111-130)
IFC_PROCESSING_TIMEOUT=300
IFC_MAX_FILE_SIZE_MB=500
DRACO_COMPRESSION_ENABLED=true

# ----------------------------------------------------------------------------
# FEATURE FLAGS
# ----------------------------------------------------------------------------
FEATURE_SMART_CONTEXT=true
FEATURE_EDGE_COMPUTING=false
FEATURE_DIGITAL_TWIN=false
FEATURE_VDC=true
FEATURE_SUBCONTRACTOR_PORTAL=false

# ----------------------------------------------------------------------------
# PERFORMANCE & OPTIMIZATION
# ----------------------------------------------------------------------------
CACHE_TTL_SECONDS=300
QUERY_TIMEOUT_SECONDS=30
API_RESPONSE_CACHE=true

# ----------------------------------------------------------------------------
# DEVELOPMENT ONLY (Remove in production)
# ----------------------------------------------------------------------------
SEED_DATABASE=false
ENABLE_API_DOCS=true
ALLOW_MOCK_AUTH=false
